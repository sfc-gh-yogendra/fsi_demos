---
alwaysApply: true
---

# WAM AI Demo - Agent Configuration Rules

## Agent Naming Standards
- **Agent Names**: Use `*_copilot` format (e.g., `advisor_copilot`)
- **Display Names**: Use "* CoPilot" format (e.g., "Wealth Advisory CoPilot")
- **Current Agents**:
  - `advisor_copilot` - Display Name: "Wealth Advisory CoPilot"
  - `analyst_copilot` - Display Name: "Portfolio Analysis CoPilot"  
  - `compliance_copilot` - Display Name: "Compliance CoPilot"

## Tool Configuration Formats

**CRITICAL**: Tools must be configured in this exact order:
1. **Cortex Analyst Tools** (FIRST)
2. **Cortex Search Tools** (SECOND)  
3. **Custom Tools** (LAST)

### Cortex Analyst Tools
```markdown
**Tool X: [Tool Name]**
- **Semantic View**: `DATABASE.SCHEMA.VIEW_NAME`
- **Name**: `tool_name`
- **Description**: `When to use this tool`
```

### Cortex Search Tools
```markdown
**Tool X: [Tool Name]**
- **Name**: `tool_name`
- **Description**: `When to use this tool`
- **Search Service**: `DATABASE.SCHEMA.SEARCH_SERVICE_NAME`
- **ID Column**: `COLUMN_NAME`
- **Title Column**: `COLUMN_NAME`
```

### Custom Tools
```markdown
**Tool X: [Tool Name]**
- **Resource Type**: Function|Procedure
- **Function Name**: `DATABASE.SCHEMA.FUNCTION_NAME` (fully qualified)
- **Name**: `tool_name`
- **Query Timeout**: X seconds (reasonable time for completion)
- **Description**: `Tool purpose so agent understands when to use it`
```

## Agent Template Structure

### AGENT_SETUP_GUIDE.md Structure
```markdown
## Agent X: [agent_name] ([Persona])

### Basic Information
- **Name**: `agent_name`
- **Display Name**: `Display Name`
- **Description**: `Full description`

### Response Instructions
[Full response instructions text]

### Tools
#### Cortex Analyst Tools
[Tool configurations - ALWAYS FIRST]
#### Cortex Search Tools  
[Tool configurations - ALWAYS SECOND]
#### Custom Tools
[Tool configurations - ALWAYS LAST]

### Orchestration
- **Orchestration Model**: Claude 4 Sonnet
- **Planning Instructions**: [Full planning instructions text]
```

### DEMO_SCENARIOS.md Structure
```markdown
## Scenario X: [Scenario Name]
### Persona: [Role]
### Business Challenge: [Problem statement]

### Demo Storyline: *"[Opening narrative]"*

### Step-by-Step Demo Flow:
#### Step 1: [Action]
**Demo Operator Says**: *"[What to say]"*
**User Query**: `"[Exact query]"`
**Expected Agent Response**: [Response details]
**Demo Talking Points**: 
- *"[Business value point 1]"*

### Business Impact Summary:
- **[Metric]**: [Impact description]
```

## Response Instructions Guidelines
**Purpose**: Set rules for how the agent should sound and respond to users

- No promissory statements; cite sources; use "according to our records"
- Professional tone appropriate for each persona (wealth management, portfolio management, compliance)
- When discussing ESG/sustainability topics, reference specific metrics and commitments
- Highlight thematic investment opportunities where relevant
- Define communication style, formatting preferences, and behavioral boundaries
- Specify what the agent should/shouldn't do when responding

## Planning Instructions Guidelines  
**Purpose**: Define how the agent should think through complex queries by specifying planning strategies like breaking down tasks, exploring ambiguities, or routing across tools

- Classify queries by type: QUANTITATIVE (numbers, calculations), QUALITATIVE (summaries, context), THEMATIC (ESG, watchlists)
- For mixed questions: Use analyst tools first, then search tools with results as context
- Always synthesize multiple tool outputs into coherent response
- Include tool sequencing examples (Analyst â†’ Search or vice versa)
- Define decision-making logic for tool selection and execution order
- Specify how to handle ambiguous or multi-part queries

## Available Data Sources
- **Semantic Views**: `CLIENT_FINANCIALS_SV`, `CLIENT_INTERACTIONS_SV`, `WATCHLIST_ANALYTICS_SV`
- **Search Services**: `COMMUNICATIONS_SEARCH`, `RESEARCH_SEARCH`, `REGULATORY_SEARCH`
- **Custom Tools**: Available for specific use cases requiring custom functions

## Standard Test Queries by Agent Type

### Wealth Manager (advisor_copilot)
- Portfolio analytics + communication history
- Meeting preparation scenarios
- ESG and thematic investment queries

### Portfolio Manager (analyst_copilot)  
- Investment research + quantitative analysis
- Market commentary synthesis
- Thematic exposure analysis

### Compliance Officer (compliance_copilot)
- Communication surveillance
- Regulatory rule lookup
- Risk pattern identification

@AGENT_SETUP_GUIDE.md
@DEMO_SCENARIOS.md