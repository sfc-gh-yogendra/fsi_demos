---
description: Glacier First Bank Phase 1 demo defaults and guardrails
alwaysApply: false
---
# Glacier First Bank ‚Äî Phase 1 Demo Defaults

## Fictional Institution & Locale Defaults
- **Institution**: Glacier First Bank (pan‚ÄëEU universal bank; strong Corporate & Commercial; strong Wealth)
- **Language/Tone**: en‚ÄëGB, professional EU banking tone
- **Regulatory**: EU/EBA‚Äëstyle policy language (generic)
- **Currency**: EUR, en‚ÄëGB formatting (e.g., ‚Ç¨1,234,567.89)

## Scope & Narrative Cadence
- **Phase 1 Scenarios**: AML/KYC (EDD) and Credit Analyst (loan origination assessment)
- **Story Flow**: Each scenario uses 3‚Äì4 dependent turns (user question ‚Üí agent answer ‚Üí user follow‚Äëup, etc.)
- **Timing**: Each scenario should run independently in ~15 minutes (not cumulative)
- **Multi‚Äëtool Orchestration**: Agents may combine Cortex Analyst, Cortex Search, and generation/summarisation in a single turn when needed

## Databases, Warehouses, Connections
- **Database**: `BANK_AI_DEMO`
- **Warehouses**: `BANK_AI_DEMO_COMPUTE_WH` (general), `BANK_AI_DEMO_SEARCH_WH` (Cortex Search)
- **Connection Parameter**: script requires `connection_name` (no fallback - must be provided)

## Response Instruction Defaults (embed into agents)
- **Citations**: Always include document ID/title and publish/effective dates
- **Units/Windows**: Always state currency, period, and cohort filters where relevant
- **Threshold Flagging**: Show metric, threshold, and severity icon
  - Use ‚ö†Ô∏è for warnings and üö® for breaches
- **Auditability**: Offer a short ‚Äúaudit summary of steps and sources‚Äù on request
- **Visual Defaults** (when a visual is implied or requested; UI renders charts):
  - Time series: Line chart
  - Cohort comparisons: Horizontal bar chart
  - Composition by category: Stacked bar chart
  - Distribution: Histogram
  - KPI vs threshold: Inline KPI with colour flag; optional small comparative bar

## Planning Instruction Defaults (decision logic)
- If the question requires quantitative metrics, cohorts, or filters over structured data ‚Üí use Cortex Analyst on relevant Semantic View(s)
- If the question interrogates policies, PDFs, onboarding docs, news/adverse media, or free‚Äëtext ‚Üí use Cortex Search (with attribute filters)
- If both are relevant ‚Üí use both tools and synthesise into one answer
- SQL visibility is handled by Snowflake Intelligence; surface only on explicit user request

## Policy Threshold Bands (EU/EBA‚Äëstyle; configurable)
- **DSCR**: warning < 1.25; breach < 1.10
- **Debt‚Äëto‚ÄëEquity**: warning > 3.0; breach > 3.5
- **Current Ratio**: warning < 1.20; breach < 1.10
- **Single‚Äëclient concentration**: warning > 60%; breach > 70%

## AML/KYC Document Taxonomy & Attributes
- **doc_type**: `Onboarding` | `Adverse Media` | `PEP/Sanctions` | `Internal Memo`
- **risk_signal**: `Low` | `Medium` | `High`
- Recommended Cortex Search attributes: `id`, `title`, `content`, `entity_name`, `doc_type`, `publish_date`, `risk_signal`
- Create and validate Cortex Search services per [cortex-search.mdc](mdc:cortex-search.mdc)

## Semantic Views & Testing
- Build Semantic Views per [semantic-views.mdc](mdc:semantic-views.mdc)
- Provide basic and cohort test queries using `SEMANTIC_VIEW(...)` (for verification and ‚Äúshow SQL‚Äù support in UI)

## Acceptance Criteria (Phase 1)
- Each scenario completes a 3‚Äì4 turn story with correct tool orchestration and consistent tone
- All quantitative answers include currency, time window, and any cohort filters
- Flags appear at configured thresholds with clear severity and policy citations
- Search services pass `SEARCH_PREVIEW` tests for generic and domain queries
- Semantic views return expected metrics; ‚ÄúShow SQL‚Äù displays in UI on request
- Agent audit summary accurately lists steps/tools/sources

